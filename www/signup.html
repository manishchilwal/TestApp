<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sign Up</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Sign Up</h1>
    <form id="signup-form">
        <label for="name">Name:</label>
        <input type="text" id="name" required><br>

        <label for="username">Username:</label>
        <input type="text" id="username" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" required><br>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" required><br>

        <button type="submit">Submit</button>
    </form>
    <script src="cordova.js"></script>
    <script src="index.js"></script>
    <script>
        document.addEventListener('deviceready', function() {
            // Handle form submission
            document.getElementById('signup-form').onsubmit = function(event) {
                event.preventDefault(); // Prevent form submission
                
                // Collect user data
                var profile = {
                    'Name': document.getElementById('name').value,
                    'Identity': document.getElementById('username').value,
                    'Email': document.getElementById('email').value,
                    'Phone': document.getElementById('phone').value
                };
                
                // Send data to CleverTap
                CleverTap.onUserLogin(profile);

                
                // event with properties
                var props = { 'Name': 'XYZ', 'Price': 123 }
                CleverTap.recordEventWithNameAndProps("Cordova Event", props)
                
                // Redirect to welcome page with username
                window.location.href = 'welcome.html?username=' + encodeURIComponent(profile.Identity);
            };
        }, false);
    </script>
</body>
</html>
